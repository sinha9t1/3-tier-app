Starting docker compose build - 250901_061130
Log File: /home/devops/3-tier-app/build-logs/docker_build_250901_061130.log
time="2025-09-01T06:11:30+05:30" level=warning msg="/home/devops/3-tier-app/docker-compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 933B done
#1 DONE 0.0s

#2 [node internal] load build definition from Dockerfile
#2 transferring dockerfile: 322B done
#2 DONE 0.0s

#3 [nginx internal] load build definition from Dockerfile
#3 transferring dockerfile: 529B done
#3 DONE 0.0s

#4 [nginx internal] load metadata for docker.io/library/node:alpine
#4 DONE 2.8s

#5 [node internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [node 1/5] FROM docker.io/library/node:alpine@sha256:be4d5e92ac68483ec71440bf5934865b4b7fcb93588f17a24d411d15f0204e4f
#6 DONE 0.0s

#7 [node internal] load build context
#7 transferring context: 60.89kB 0.1s done
#7 DONE 0.1s

#8 [node 4/5] RUN npm install
#8 CACHED

#9 [node 2/5] WORKDIR /usr/src/app
#9 CACHED

#10 [node 3/5] COPY package*.json ./
#10 CACHED

#11 [node 5/5] COPY . .
#11 CACHED

#12 [node] exporting to image
#12 exporting layers done
#12 writing image sha256:18caae654eae15a9e05629ececa9e369e4146b1e79195fbd5c3b3f40c5b3c38d done
#12 naming to docker.io/library/3-tier-app-node done
#12 DONE 0.0s

#13 [node] resolving provenance for metadata file
#13 DONE 0.0s

#14 [nginx internal] load metadata for docker.io/library/nginx:alpine
#14 DONE 5.6s

#15 [nginx internal] load .dockerignore
#15 transferring context: 2B done
#15 DONE 0.0s

#6 [nginx build 1/6] FROM docker.io/library/node:alpine@sha256:be4d5e92ac68483ec71440bf5934865b4b7fcb93588f17a24d411d15f0204e4f
#6 DONE 0.0s

#16 [nginx internal] load build context
#16 transferring context: 1.23kB done
#16 DONE 0.0s

#17 [nginx stage-1 2/3] COPY --from=build /usr/src/app/dist /usr/share/nginx/html
#17 CACHED

#9 [nginx build 2/6] WORKDIR /usr/src/app
#9 CACHED

#18 [nginx build 4/6] RUN npm install
#18 CACHED

#19 [nginx build 3/6] COPY package*.json ./
#19 CACHED

#20 [nginx build 5/6] COPY . .
#20 CACHED

#21 [nginx build 6/6] RUN npm run build
#21 CACHED

#22 [nginx stage-1 3/3] COPY default.conf /etc/nginx/conf.d/default.conf
#22 ERROR: failed to calculate checksum of ref 84a7c2a5-770d-424b-a0bf-5b23db2ea379::le4k1a40w8lbjcnx1e0exxyif: "/default.conf": not found

#23 [nginx stage-1 1/3] FROM docker.io/library/nginx:alpine@sha256:42a516af16b852e33b7682d5ef8acbd5d13fe08fecadc7ed98605ba5e3b26ab8
#23 resolve docker.io/library/nginx:alpine@sha256:42a516af16b852e33b7682d5ef8acbd5d13fe08fecadc7ed98605ba5e3b26ab8 done
#23 DONE 0.0s
------
 > [nginx stage-1 3/3] COPY default.conf /etc/nginx/conf.d/default.conf:
------
Dockerfile:21

--------------------

  19 |     

  20 |     #Copy reverse proxy rule

  21 | >>> COPY default.conf /etc/nginx/conf.d/default.conf

  22 |     

  23 |     EXPOSE 80

--------------------

target nginx: failed to solve: failed to compute cache key: failed to calculate checksum of ref 84a7c2a5-770d-424b-a0bf-5b23db2ea379::le4k1a40w8lbjcnx1e0exxyif: "/default.conf": not found

Build and startup completed successfully... - 250901_061130.
