Starting docker compose build - 250901_084454
Log File: /home/devops/3-tier-app/build-logs/docker_build_250901_084454.log
time="2025-09-01T08:44:54+05:30" level=warning msg="/home/devops/3-tier-app/docker-compose.override.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
#1 [internal] load local bake definitions
#1 reading from stdin 927B done
#1 DONE 0.0s

#2 [nginx internal] load build definition from Dockerfile
#2 transferring dockerfile: 637B done
#2 DONE 0.0s

#3 [node internal] load build definition from Dockerfile
#3 transferring dockerfile: 322B done
#3 DONE 0.0s

#4 [nginx internal] load metadata for docker.io/library/node:alpine
#4 DONE 3.4s

#5 [node internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [node 1/5] FROM docker.io/library/node:alpine@sha256:be4d5e92ac68483ec71440bf5934865b4b7fcb93588f17a24d411d15f0204e4f
#6 DONE 0.0s

#7 [node internal] load build context
#7 transferring context: 60.89kB 0.1s done
#7 DONE 0.1s

#8 [nginx internal] load metadata for docker.io/library/nginx:alpine
#8 ...

#9 [node 2/5] WORKDIR /usr/src/app
#9 CACHED

#10 [node 3/5] COPY package*.json ./
#10 CACHED

#11 [node 4/5] RUN npm install
#11 CACHED

#12 [node 5/5] COPY . .
#12 CACHED

#13 [node] exporting to image
#13 exporting layers done
#13 writing image sha256:18caae654eae15a9e05629ececa9e369e4146b1e79195fbd5c3b3f40c5b3c38d done
#13 naming to docker.io/library/3-tier-app-node done
#13 DONE 0.0s

#14 [node] resolving provenance for metadata file
#14 DONE 0.0s

#8 [nginx internal] load metadata for docker.io/library/nginx:alpine
#8 DONE 6.2s

#15 [nginx internal] load .dockerignore
#15 transferring context: 35B done
#15 DONE 0.0s

#6 [nginx build 1/6] FROM docker.io/library/node:alpine@sha256:be4d5e92ac68483ec71440bf5934865b4b7fcb93588f17a24d411d15f0204e4f
#6 DONE 0.0s

#16 [nginx stage-1 1/3] FROM docker.io/library/nginx:alpine@sha256:42a516af16b852e33b7682d5ef8acbd5d13fe08fecadc7ed98605ba5e3b26ab8
#16 resolve docker.io/library/nginx:alpine@sha256:42a516af16b852e33b7682d5ef8acbd5d13fe08fecadc7ed98605ba5e3b26ab8 done
#16 ...

#17 [nginx internal] load build context
#17 transferring context: 152.53kB 0.1s done
#17 DONE 0.1s

#9 [nginx build 2/6] WORKDIR /usr/src/app
#9 CACHED

#18 [nginx build 3/6] COPY package*.json ./
#18 CACHED

#16 [nginx stage-1 1/3] FROM docker.io/library/nginx:alpine@sha256:42a516af16b852e33b7682d5ef8acbd5d13fe08fecadc7ed98605ba5e3b26ab8
#16 sha256:60e48a050b6408d0c5dd59b98b6e36bf0937a0bbe99304e3e9c0e63b7563443a 2.50kB / 2.50kB done
#16 sha256:403e3f251637881bbdc5fb06df8da55c149c00ccb0addbcb7839fa4ad60dfd04 0B / 628B 0.2s
#16 sha256:9adfbae99cb79774fdc14ca03a0a0154b8c199a69f69316bcfce64b07f80719f 0B / 955B 0.2s
#16 sha256:42a516af16b852e33b7682d5ef8acbd5d13fe08fecadc7ed98605ba5e3b26ab8 10.33kB / 10.33kB done
#16 sha256:4a86014ec6994761b7f3118cf47e4b4fd6bac15fc6fa262c4f356386bbc0e9d9 10.78kB / 10.78kB done
#16 sha256:6bc572a340ecbc60aca0c624f76b32de0b073d5efa4fa1e0b6d9da6405976946 0B / 1.81MB 0.2s
#16 CANCELED

#19 [nginx build 4/6] RUN npm install
#19 1.132 npm error code ENOENT
#19 1.133 npm error syscall open
#19 1.133 npm error path /usr/src/app/package.json
#19 1.133 npm error errno -2
#19 1.133 npm error enoent Could not read package.json: Error: ENOENT: no such file or directory, open '/usr/src/app/package.json'
#19 1.133 npm error enoent This is related to npm not being able to find a file.
#19 1.133 npm error enoent
#19 1.136 npm error A complete log of this run can be found in: /root/.npm/_logs/2025-09-01T03_15_01_424Z-debug-0.log
#19 ERROR: process "/bin/sh -c npm install" did not complete successfully: exit code: 254
------
 > [nginx build 4/6] RUN npm install:
1.132 npm error code ENOENT
1.133 npm error syscall open
1.133 npm error path /usr/src/app/package.json
1.133 npm error errno -2
1.133 npm error enoent Could not read package.json: Error: ENOENT: no such file or directory, open '/usr/src/app/package.json'
1.133 npm error enoent This is related to npm not being able to find a file.
1.133 npm error enoent
1.136 npm error A complete log of this run can be found in: /root/.npm/_logs/2025-09-01T03_15_01_424Z-debug-0.log
------
Dockerfile:8

--------------------

   6 |     #Copy only package*.json for better dependency caching

   7 |     COPY package*.json ./

   8 | >>> RUN npm install

   9 |     

  10 |     #Copy all the container contents

--------------------

target nginx: failed to solve: process "/bin/sh -c npm install" did not complete successfully: exit code: 254

Build and startup completed successfully... - 250901_084454.
